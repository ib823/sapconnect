/**
 * Data Model Simplification Rules
 *
 * Covers: BKPF restructuring, EKKO/EKPO changes, VBAK/VBAP changes,
 * MKPF/MSEG, CKMLHD/CKMLCT.
 */

module.exports = [
  {
    id: 'SIMPL-DM-001',
    category: 'Data Model',
    severity: 'high',
    title: 'BKPF header table restructured',
    description: 'BKPF has structural changes. Some fields moved to ACDOCA.',
    pattern: /\bBKPF\b/i,
    patternType: 'source',
    remediation: 'Use CDS view I_JournalEntry for document headers. Review field-level changes.',
    simplificationId: 'S4TWL-DM-001',
  },
  {
    id: 'SIMPL-DM-002',
    category: 'Data Model',
    severity: 'medium',
    title: 'EKKO purchase order header changes',
    description: 'EKKO has new fields and some removed fields in S/4HANA.',
    pattern: /\bEKKO\b/i,
    patternType: 'source',
    remediation: 'Review EKKO field usage against S/4HANA data model.',
    simplificationId: 'S4TWL-DM-002',
  },
  {
    id: 'SIMPL-DM-003',
    category: 'Data Model',
    severity: 'medium',
    title: 'EKPO purchase order item changes',
    description: 'EKPO has structural changes including new fields for ML integration.',
    pattern: /\bEKPO\b/i,
    patternType: 'source',
    remediation: 'Review EKPO field usage. Note MATNR length change to 40.',
    simplificationId: 'S4TWL-DM-003',
  },
  {
    id: 'SIMPL-DM-004',
    category: 'Data Model',
    severity: 'medium',
    title: 'VBAK sales order header changes',
    description: 'VBAK has structural changes in S/4HANA.',
    pattern: /\bVBAK\b/i,
    patternType: 'source',
    remediation: 'Review VBAK field usage. Use API_SALES_ORDER_SRV for new developments.',
    simplificationId: 'S4TWL-DM-004',
  },
  {
    id: 'SIMPL-DM-005',
    category: 'Data Model',
    severity: 'medium',
    title: 'VBAP sales order item changes',
    description: 'VBAP has structural changes including MATNR length extension.',
    pattern: /\bVBAP\b/i,
    patternType: 'source',
    remediation: 'Review VBAP field usage. Note MATNR length change to 40.',
    simplificationId: 'S4TWL-DM-005',
  },
  {
    id: 'SIMPL-DM-006',
    category: 'Data Model',
    severity: 'medium',
    title: 'MKPF material document header changes',
    description: 'MKPF has structural changes in S/4HANA.',
    pattern: /\bMKPF\b/i,
    patternType: 'source',
    remediation: 'Review MKPF field usage. Use CDS views I_MaterialDocumentHeader.',
    simplificationId: 'S4TWL-DM-006',
  },
  {
    id: 'SIMPL-DM-007',
    category: 'Data Model',
    severity: 'medium',
    title: 'MSEG material document item changes',
    description: 'MSEG has structural changes in S/4HANA including ML integration fields.',
    pattern: /\bMSEG\b/i,
    patternType: 'source',
    remediation: 'Review MSEG field usage. Use CDS views I_MaterialDocumentItem.',
    simplificationId: 'S4TWL-DM-007',
  },
  {
    id: 'SIMPL-DM-008',
    category: 'Data Model',
    severity: 'high',
    title: 'CO-PA operating concern restructured',
    description: 'CE1*/CE2*/CE3*/CE4* tables replaced by ACDOCA margin analysis.',
    pattern: /\b(CE1\w+|CE2\w+|CE3\w+|CE4\w+)\b/,
    patternType: 'source',
    remediation: 'Use ACDOCA-based margin analysis or CDS views for profitability.',
    simplificationId: 'S4TWL-DM-008',
  },
  {
    id: 'SIMPL-DM-009',
    category: 'Data Model',
    severity: 'medium',
    title: 'Material Ledger tables restructured',
    description: 'CKMLHD, CKMLCT, CKMLPP restructured for mandatory ML.',
    pattern: /\b(CKMLHD|CKMLCT|CKMLPP)\b/i,
    patternType: 'source',
    remediation: 'Review actual costing data model. Use CDS views I_ActualCostRate*.',
    simplificationId: 'S4TWL-DM-009',
  },
  {
    id: 'SIMPL-DM-010',
    category: 'Data Model',
    severity: 'high',
    title: 'COEP CO line items replaced',
    description: 'COEP (CO actual line items) replaced by ACDOCA for CO postings.',
    pattern: /\bCOEP\b/i,
    patternType: 'source',
    remediation: 'Use ACDOCA for CO line items or CDS views I_CostCenterActualData.',
    simplificationId: 'S4TWL-DM-010',
  },
  {
    id: 'SIMPL-DM-011',
    category: 'Data Model',
    severity: 'medium',
    title: 'LIKP delivery header changes',
    description: 'LIKP has structural changes. Some fields deprecated.',
    pattern: /\bLIKP\b/i,
    patternType: 'source',
    remediation: 'Review LIKP field usage. Use API_OUTBOUND_DELIVERY_SRV.',
    simplificationId: 'S4TWL-DM-011',
  },
  {
    id: 'SIMPL-DM-012',
    category: 'Data Model',
    severity: 'medium',
    title: 'LIPS delivery item changes',
    description: 'LIPS has structural changes including MATNR extension.',
    pattern: /\bLIPS\b/i,
    patternType: 'source',
    remediation: 'Review LIPS field usage. Note MATNR length change.',
    simplificationId: 'S4TWL-DM-012',
  },
  {
    id: 'SIMPL-DM-013',
    category: 'Data Model',
    severity: 'high',
    title: 'COBK CO document header removed',
    description: 'COBK replaced by ACDOCA for CO document headers.',
    pattern: /\bCOBK\b/i,
    patternType: 'source',
    remediation: 'Use ACDOCA for CO document data.',
    simplificationId: 'S4TWL-DM-013',
  },
];
